<!DOCTYPE html>
<!--####################################################################
	THIS IS A GENERATED FILE — ANY CHANGES MADE WILL BE OVERWRITTEN

	INSTEAD CHANGE:
	source: docs/can-guides/topics/data/configuring-requests.md
	@page guides/data-configuring-requests
######################################################################## -->
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Configuring Requests | Service Layer | topics | Guides | CanJS — Build CRUD apps in fewer lines of code.</title>
	<meta name="description" content="URL, query, and response formats for making requests.">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<meta property="og:image" content="https://www.bitovi.com/hubfs/open-source/os-canjs.png">
	<meta property="og:description" content="URL, query, and response formats for making requests.">
	<meta property="og:title" content="Configuring Requests | Service Layer | topics | Guides | CanJS — Build CRUD apps in fewer lines of code.">
	<script type="application/ld+json">
		{
			"@context": "http://www.schema.org",
			"@type": "SoftwareSourceCode",
			"applicationCategory": "DeveloperApplication",
			"brand": "Bitovi",
			"category": "JavaScript Frameworks",
			"codeRepository": "https://github.com/canjs/canjs",
			"description": "URL, query, and response formats for making requests.",
			"image": "https://www.bitovi.com/hubfs/open-source/os-canjs.png",
			"license": "https://github.com/canjs/canjs/blob/master/license.md",
			"logo": "https://www.bitovi.com/hubfs/open-source/os-canjs.png",
			"name": "Configuring Requests | Service Layer | topics | Guides | CanJS — Build CRUD apps in fewer lines of code.",
			"programmingLanguage": "JavaScript",
			"softwareVersion" : "5.33.3"
		}
	</script>
	
		<link rel="stylesheet" type="text/css" href="../static/bundles/bit-docs-site/static.css">
		<link rel="shortcut icon" sizes="16x16 24x24 32x32 48x48 64x64" href="/docs/images/canjs_favicon.ico">
		<link rel="apple-touch-icon" sizes="57x57" href="../../docs/images/canjs_favicon_57x57.png">
		<link rel="apple-touch-icon-precomposed" sizes="57x57" href="../../docs/images/canjs_favicon_57x57.png">
		<link rel="apple-touch-icon" sizes="72x72" href="../../docs/images/canjs_favicon_72x72.png">
		<link rel="apple-touch-icon" sizes="114x114" href="../../docs/images/canjs_favicon_114x114.png">
		<link rel="apple-touch-icon" sizes="120x120" href="../../docs/images/canjs_favicon_128x128.png">
		<link rel="apple-touch-icon" sizes="144x144" href="../../docs/images/canjs_favicon_144x144.png">
		<link rel="apple-touch-icon" sizes="152x152" href="../../docs/images/canjs_favicon_152x152.png">
		<meta content="yes" name="apple-mobile-web-app-capable">
	  	<meta name="apple-mobile-web-app-status-bar-style" content="white-translucent">
	
	
		<script>
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
				(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
				m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

			ga('create', 'UA-2302003-11', 'auto');
			ga('send', 'pageview');
		</script>
	
</head>
	<body>
		<input type="checkbox" id="nav-trigger" class="nav-trigger"/>
	  	<div data-current-page="guides/data-configuring-requests" id="everything">
  <div class="header">
    
	<label for="nav-trigger">Menu</label>
	<div class="brand">
		<div class="logo">
			<a href="../../index.html" alt="CanJS"></a>
			<div class="dropdown project-dropdown">
				<a href="https://donejs.com/">DoneJS</a>
				<a href="https://stealjs.com/">StealJS</a>
				<a href="https://jquerypp.com/">jQuery++</a>
				<a href="https://funcunit.com/">FuncUnit</a>
				<a href="https://documentjs.com/">DocumentJS</a>
			</div>
		</div>
		<div class="version">
			<div class="version-number">
				5.33.3
			</div>
			<div class="dropdown version-dropdown">
				
					<a href="https://canjs.com">6.0.0</a>
				
					<a href="https://v4.canjs.com">4.3.0</a>
				
					<a href="https://v3.canjs.com">3.14.1</a>
				
					<a href="https://v2.canjs.com">2.3.35</a>
				
			</div>
		</div>
	</div>


	
	<ul class="top-right-links">
		
			
				
					<li class="">
						<a class="page"
							href="../about.html"
							title="Learn about CanJS’s mission, technical highlights, who uses CanJS, and our future roadmap.">
							About
						</a>
					</li>
				
			
		
			
				
					<li class="current">
						<a class="page"
							href="../guides.html"
							title="Welcome to CanJS! These guides are here to help you master CanJS development, get involved with the CanJS community, and contribute back to CanJS.">
							Guides
						</a>
					</li>
				
			
		
			
				
					<li class="">
						<a class="page"
							href="../api.html"
							title="Welcome to the CanJS API documentation! This page is a CHEAT-SHEET for the most common APIs within CanJS. Read the technology-overview page for background on the following APIs.">
							API Docs
						</a>
					</li>
				
			
		
			
				
					<li class="">
						<a class="page"
							href="../community.html"
							title="Get involved with one of the most inviting communities on the internet!">
							Community
						</a>
					</li>
				
			
		
			
				
					<li class="">
						<a class="page"
							href="contribute.html"
							title="Learn how to contribute to CanJS!">
							Contributing
						</a>
					</li>
				
			
		
	</ul>



<div class="search-section">
	<div class="search-bar">
	<div class="search-wrap" style="display:none;">
		<span class="search-icon"></span>
		<input
			type="text"
			size="6"
			class="search"
			placeholder="Search"
			autocomplete="off"
			autocorrect="off"
			autocapitalize="none"
			spellcheck="false"/>
			<span class="search-icon-cancel"></span>
	</div>
</div>

	<div class="search-bar-container">
	</div>
	<div class="search-results-container">
	<div class="search-results-wrap"></div>
</div>

</div>
<ul class="top-right-bitovi">
	<li class="dropdown">
		<a href="https://www.bitovi.com" class="bitovi by-bitovi">Bitovi</a>
		<ul class="dropdown-menu">
			<li><a href="https://www.bitovi.com/">Bitovi.com</a></li>
			<li><a href="https://www.bitovi.com/blog">Blog</a></li>
			<li><a href="https://www.bitovi.com/design">Design</a></li>
			<li><a href="https://www.bitovi.com/development">Development</a></li>
			<li><a href="https://www.bitovi.com/training">Training</a></li>
			<li><a href="https://www.bitovi.com/open-source">Open Source</a></li>
			<li><a href="https://www.bitovi.com/about">About</a></li>
			<li><a href="https://www.bitovi.com/contact">Contact Us</a></li>
		</ul>
	</li>
</ul>

  </div>
  <div id="left" class="column">

      <div class="nav-menu">
        
            
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../about.html"
							title="Learn about CanJS’s mission, technical highlights, who uses CanJS, and our future roadmap.">
							About
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						parent
           						expanded">
						<a class="page"
							href="../guides.html"
							title="Welcome to CanJS! These guides are here to help you master CanJS development, get involved with the CanJS community, and contribute back to CanJS.">
							Guides
						</a>
						
	<ul>
		
			
				
					<li>
						<span>getting started</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="crud-beginner.html"
							title="Learn how to build a basic CRUD app with CanJS in 30 minutes.">
							CRUD Guide
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="setup.html"
							title="Learn how to install CanJS in your environment.">
							Setting Up CanJS
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="technology-overview.html"
							title="Learn the basics of CanJS’s technology.">
							Technology Overview
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>topics</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="html.html"
							title="Learn how to update HTML and listen to user interactions.">
							HTML
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="routing.html"
							title="Learn how to make your application respond to changes in the URL and work with the browser’s back and forward buttons.">
							Routing
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						parent
           						expanded">
						<a class="page"
							href="data.html"
							title="Learn how to use can-connect to integrate service layer APIs into your CanJS application.">
							Service Layer
						</a>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="data-introduction.html"
							title="Learn how to get, create, update, and delete backend service layer data.">
							Introduction
						</a>
						

					</li>
				
			
		
			
				
					<li class="current
           						
           						expanded">
						<a class="page"
							href="data-configuring-requests.html"
							title="URL, query, and response formats for making requests.">
							Configuring Requests
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="data-managing-sessions.html"
							title="Learn how to use can/session to manage user session state in CanJS apps.">
							Managing Sessions
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="data-customizing-connections.html"
							title="Learn the layers that make up can-connect and how to implement custom connection functionality.">
							Customizing Connections
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="debugging.html"
							title="Learn how to debug CanJS applications.">
							Debugging
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="forms.html"
							title="Learn how to create amazing &lt;form&gt;s with CanJS.">
							Forms
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="testing.html"
							title="Learn how to test CanJS applications.">
							Testing
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="logic.html"
							title="Learn how to write observables in an organized, maintainable, and testable way.">
							Logic
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="server-side-rendering.html"
							title="Learn how to set up SSR for CanJS.">
							Server-Side Rendering
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>app guides</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="chat.html"
							title="This guide will walk you through building a real-time chat application with CanJS’s Core libraries.  It takes about 30 minutes to complete.">
							Chat Guide
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="todomvc.html"
							title="This guide will walk you through building a slightly modified version of TodoMVC with CanJS’s Core libraries and can-fixture. It takes about 1 hour to complete.">
							TodoMVC Guide
						</a>
						

					</li>
				
			
		
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="recipes/todomvc-with-steal.html"
							title="This tutorial walks through building TodoMVC with StealJS. It includes KeyNote presentations covering CanJS core libraries.">
							TodoMVC with StealJS
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>beginner recipes</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="recipes/canvas-clock.html"
							title="This beginner guide walks you through building a clock with the Canvas API.">
							Canvas Clock
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="recipes/credit-card-simple.html"
							title="This beginner guide walks through building a very simple credit card payment form.  It uses Stripe.js v2 API to create a token which can be used to create a charge.  It also performs simple validation on the payment form values.">
							Credit Card
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="recipes/file-navigator-simple.html"
							title="This beginner guide walks you through building a simple file navigation widget.  It takes about 25 minutes to complete.  It was written with CanJS 5.22.0. Check out the file-navigator-advanced for an example that makes AJAX requests for its data and uses can-component.">
							File Navigator
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="recipes/signup-simple.html"
							title="This beginner guide walks through building simple signup, login forms and a logout button.">
							Signup and Login
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="recipes/video-player.html"
							title="This beginner guide walks you through building custom video controls around a video element.">
							Video Player
						</a>
						

					</li>
				
			
		
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>intermediate recipes</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="recipes/cta-bus-map.html"
							title="This intermediate guide walks you through showing Chicago Transit Authority (CTA) bus locations on a Google Map.   You&#x27;ll learn how to create a can-component that integrates with 3rd party widgets.">
							CTA Bus Map
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="recipes/modals.html"
							title="This intermediate guide shows how to create a multiple modal form.">
							Multiple Modals
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="recipes/text-editor.html"
							title="This intermediate guide walks you through building a basic rich text editor.">
							Text Editor
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="recipes/tinder-carousel.html"
							title="This intermediate guide walks you through building a Tinder-like carousel. Learn how to build apps that use dragging user interactions.">
							Tinder Carousel
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>advanced recipes</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="recipes/credit-card-advanced.html"
							title="This advanced guide walks through building a simple credit card payment form with validations. It doesn’t use can-define. Instead it uses Kefir.js streams to make a ViewModel. can-kefir is used to make the Kefir streams observable to can-stache.">
							Credit Card
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="recipes/file-navigator-advanced.html"
							title="This advanced guide walks you through building a file navigation widget that requests data with fetch. It takes about 45 minutes to complete.">
							File Navigator
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="recipes/playlist-editor.html"
							title="Learn how to use YouTube’s API to search for videos and make a playlist.  This makes authenticated requests with OAuth2. It uses jQuery++ for drag/drop events. It shows using custom attributes and custom events.  This advanced guide takes an hour to complete.  This recipe uses YouTube API Services and follows YouTube Terms of Service and Google Privacy Policy">
							Playlist Editor
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="recipes/search-list-details.html"
							title="This advanced guide walks through building a Search, List, Details flow with lazy-loaded routes.">
							Search, List, Details
						</a>
						

					</li>
				
			
		
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>upgrade</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../migrate-3.html"
							title="This guide walks you through the step-by-step process to upgrade a 2.x app to CanJS 3.">
							Migrating to CanJS 3
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../migrate-4.html"
							title="This guide walks you through the step-by-step process to upgrade a 3.x app to CanJS 4.">
							Migrating to CanJS 4
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../migrate-5.html"
							title="This guide walks you through the process to upgrade a 4.x app to CanJS 5.x.">
							Migrating to CanJS 5
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="upgrade/using-codemods.html"
							title="Learn how to migrate your app to CanJS 3 using can-migrate.">
							Using Codemods
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>other</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="api.html"
							title="This page walks through how to use and understand CanJS’s API documentation.">
							Reading the API Docs
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../api.html"
							title="Welcome to the CanJS API documentation! This page is a CHEAT-SHEET for the most common APIs within CanJS. Read the technology-overview page for background on the following APIs.">
							API Docs
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../community.html"
							title="Get involved with one of the most inviting communities on the internet!">
							Community
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="contribute.html"
							title="Learn how to contribute to CanJS!">
							Contributing
						</a>
						

					</li>
				
			
		
	</ul>


        
      </div>
      <div class="social-side-container">
        <ul class="social-side">
  <li>
    <a class="header-mobile github" href="https://github.com/canjs/canjs" target="_blank"><img class="social-icon-small" src="../../docs/images/github.png">GitHub</a>
  </li>
  <li>
    <a class="header-mobile twitter" href="https://twitter.com/canjs" target="_blank"><img class="social-icon-small" src="../../docs/images/twitter.png">Twitter</a>
  </li>
</ul>
<ul class="social-side">
  <li>
    <a class="header-mobile" href="https://www.bitovi.com/community/slack" target="_blank">Chat</a>
  </li>
  <li>
    <a class="header-mobile" href="https://forums.bitovi.com/c/canjs" target="_blank">Forum</a>
  </li>
</ul>
<ul class="social-side">
  <li>
    <a class="header-mobile" href="https://www.bitovi.com/blog/topic/canjs" target="_blank">News</a>
  </li>
  <li></li>
</ul>

      </div>
      <div class="by-bitovi-container">
        <a href="https://www.bitovi.com" target="_blank" class="bitovi by-bitovi">Bitovi</a>
      </div>

  </div>
  <div id="right" class="column">

      <article>
  <section class="title">
	<div class="page-type">
		<h1>Configuring Requests</h1>
			<ul class="title-social">
				
				
				<li>
					<a class="button-link" href="//github.com/canjs/canjs/edit/master/docs/can-guides/topics/data/configuring-requests.md">Edit on GitHub</a>
				</li>
				
			</ul>
	</div>
	<div class="clear-both"></div>
	
  
	<section class="description">
    <p>URL, query, and response formats for making requests.</p>

</section>

  
	
</section>
<section class="on-this-page-table">
	<!--<h2 class="on-this-page-title" data-skip>Page Content</h2>-->
</section>










  
    <section class="body">
    <h2>Overview</h2>
<p>This document describes how to configure <a href="../can-connect.html" title="can-connect provides persisted data middleware. Assemble powerful model layers from fully modularized behaviors (i.e. plugins).">can-connect</a> for loading model data from a remote server. Every model in your application will have its own connection, and each connection will be able to Create, Read, Update, and Delete (CRUD) model data from the server. There are two sections of this document:</p>
<ol>
<li><a href="#making-requests">Part 1 - Making requests</a> - configuring your connection for outgoing requests</li>
<li><a href="#managing-response-data">Part 2 - Handling the response</a> - parsing and formatting response data for use within your app</li>
</ol>
<p><a name="making-requests"></a></p>
<h2>Part 1 - Making requests</h2>
<p>When configuring a connection, the <a href="../can-connect/data/url/url.html" title="">data-url behavior</a> is responsible for making AJAX requests, and this behavior expects the URLs and data to be formatted a certain way. If your services do not line up with what is expected, we will describe how to configure things to meet your needs.</p>
<blockquote>
<p><strong>Note:</strong> all examples will be using the <a href="../can-rest-model.html" title="Connect a type to a restful service layer.">can-rest-model</a> as it serves as a good starting point for learning how to use <a href="../can-connect.html" title="can-connect provides persisted data middleware. Assemble powerful model layers from fully modularized behaviors (i.e. plugins).">can-connect</a>. For those familiar with <a href="https://v2.canjs.com/docs/can.Model.html"><code>can.Model</code></a>, the <code>can-rest-model</code> is essentially the next generation.</p>
</blockquote>
<h3>Understanding the <a href="../can-connect/DataInterface.html" title="The most common raw data methods.">DataInterface</a></h3>
<p>Each of the CRUD operations maps to one of the functions descibed by the <a href="../can-connect/DataInterface.html" title="The most common raw data methods.">DataInterface</a>. The <code>DataInterface</code> is a lower level interface used for loading <strong>raw data</strong> from a remote data source. This is not the same as the <a href="../can-connect/InstanceInterface.html" title="The methods used to create, retrieve, update and destroy typed instances with a connection.">InstanceInterface</a> which deals with typed data. Understanding the raw <code>DataInterface</code> is crucial for making the customizations described below.</p>
<blockquote>
<p><strong>IMPORTANT:</strong> Whenever loading data within your application, you almost always want to use the <a href="../can-connect/InstanceInterface.html" title="The methods used to create, retrieve, update and destroy typed instances with a connection.">InstanceInterface</a>. The lower level <code>DataInterface</code> should be used for customizing how raw data is loaded .</p>
</blockquote>
<ul>
<li><strong><code><a href="../can-connect/connection.getListData.html" title="Retrieves list of records for the given set.">getListData</a></code></strong> - loads a list of records (with optional filtering, sorting, and pagination)</li>
<li><strong><code><a href="../can-connect/connection.getData.html" title="Retrieves a record.">getData</a></code></strong> - loads an individual record by <code><a href="../can-reflect.getIdentity.html" title="Get a unique primitive representing an object.">{id}</a></code></li>
<li><strong><code><a href="../can-connect/connection.createData.html" title="Creates a new record in the connection.">createData</a></code></strong> - creates a new record</li>
<li><strong><code><a href="../can-connect/connection.updateData.html" title="Updates a record in the collection.">updateData</a></code></strong> - updates an existing record by <code><a href="../can-reflect.getIdentity.html" title="Get a unique primitive representing an object.">{id}</a></code></li>
<li><strong><code><a href="../can-connect/connection.destroyData.html" title="Destroys a record in the collection.">destroyData</a></code></strong> - deletes a record by <code><a href="../can-reflect.getIdentity.html" title="Get a unique primitive representing an object.">{id}</a></code></li>
</ul>
<h3>Configuring the URL</h3>
<p>When configuring a connection with the <a href="../can-connect/data/url/url.html" title="">data-url behavior</a>, a single URL can be used to describe all CRUD endpoints.</p>
<pre><code class="language-js">const connection = restModel({
  url: &quot;/api/todos/{id}&quot;
});
</code></pre>
<p>The above is equivalent to the following long-hand configuration:</p>
<pre><code class="language-js">const connection = restModel({
  url: {
    getData:     &quot;GET /api/todos/{id}&quot;,
    getListData: &quot;GET /api/todos&quot;,
    createData:  &quot;POST /api/todos&quot;,
    updateData:  &quot;PUT /api/todos/{id}&quot;,
    destroyData: &quot;DELETE /api/todos/{id}&quot;,
  }
});
</code></pre>
<p><strong>Here is a working example you can play with in your browser:</strong></p>
<pre><code class="language-js">import { restModel } from &quot;can&quot;;
import { Todo, todoFixture } from &quot;//unpkg.com/can-demo-models@5/index.mjs&quot;;

// create mock data
todoFixture(5);

// define the connection
const connection = restModel({
  url: &quot;/api/todos/{id}&quot;,
  Map: Todo
});

// load data
connection.getList({}).then(todos =&gt; {
  console.log(todos);
});
</code></pre>
<div class='codepen'></div>
<blockquote>
<p><strong>Note:</strong> For more information, read about the <a href="../can-connect/data/url/url.html" title="">data-url behavior</a>, the <a href="../can-connect/data/url/url.url.html" title="Specify the url and methods that should be used for the &quot;Data Methods&quot;.">url configuration</a>, and the <a href="../can-connect/DataInterface.html" title="The most common raw data methods.">DataInterface</a>.</p>
</blockquote>
<h3>Customizing the request method and URL</h3>
<p>Some applications will not follow the conventions expected by the <a href="../can-connect/data/url/url.html" title="">data-url behavior</a>. For example an application might only support <code>GET</code> and <code>POST</code> request methods or might use a unique URL structure. You can configure individual CRUD endpoints by defining the method and URL for each endpoint:</p>
<pre><code class="language-js">const connection = restModel({
  url: {
    getListData: 'GET /api/todos/all',
    getData:     'GET /api/todo?uuid={id}',
    createData:  'POST /api/todo/create',
    updateData:  'POST /api/todo/update?uuid={id}',
    destroyData: 'POST /api/todo/delete?uuid={id}',
  }
});
</code></pre>
<h3>Implementing the DataInterface yourself</h3>
<p>Consider a situation where an application loads all incomplete TODOs from a special URL like <code>/api/todos/incomplete</code>. In such cases, you can write a custom <a href="../can-connect/data/url/url.getListData.html" title="">getListData</a> function which performs the actual ajax request. You can implement any of the <a href="../can-connect/DataInterface.html" title="The most common raw data methods.">DataInterface</a> methods in a similar way:</p>
<pre><code class="language-js">import ajax from 'can-ajax';

const connection = restModel({
  url: {
    getListData(query) {
      if(query.filter.complete === false) {
        // Load all incomplete TODOs from a separate URL
        return ajax({ url: '/api/todos/incomplete', data: query, /* ... */ });
      }

      // Load all other TODOs from the primary URL
      return ajax({ url: '/api/todos', data: query, /* ... */ });
    }
  }
});

// Loads incomplete TODOs from '/api/todos/incomplete'
connection.getList({ complete: false });

// Loads all TODOs from '/api/todos'
connection.getList({});
</code></pre>
<h3>Customizing the AJAX data transport</h3>
<p>By default, <a href="../can-ajax.html" title="Make an asynchronous HTTP (AJAX) request.">can-ajax</a> is used to make all data requests using XMLHttpRequest (XHR) and is based on the <a href="http://api.jquery.com/jquery.ajax/"><code>jQuery.ajax</code></a> interface. Any jQuery compatible transport can serve as a drop-in replacement for <code>can-ajax</code>. Here is how you would use jQuery's ajax transport for all requests:</p>
<pre><code class="language-js">import $ from &quot;jquery&quot;;

const connection = restModel({
  url: &quot;/api/todos/{id}&quot;,
  ajax: $.ajax
});
</code></pre>
<h4>Using another library for AJAX requests</h4>
<p>You can create a thin wrapper to translate the <code>ajaxOptions</code> expected by <a href="../can-ajax.html" title="Make an asynchronous HTTP (AJAX) request.">can-ajax</a> into options for another library. For example, here is how you could use <a href="https://github.com/axios/axios">axios</a> with can-connect:</p>
<pre><code class="language-js">import axios from 'axios';

function axiosTransport({ url, type, data, dataType }) {
    const hasBody = /POST|PUT|PATCH/i.test(type);

    // Must return a Promise
    return axios({
        url,
        method: type,
        params: hasBody ? {} : data,
        data: hasBody ? data : {},
        responseType: dataType || 'json',
    }).then(res =&gt; {
        // Must resolve to the parsed data object
       return (typeof res === 'string') ? JSON.parse(res) : res;
    });
}

const connection = restModel({
    url: &quot;/api/todos&quot;,
    ajax: axiosTransport
});
</code></pre>
<blockquote>
<p><strong>Note:</strong> Any data transport can be used so long as it can conform to the <a href="../can-ajax.html" title="Make an asynchronous HTTP (AJAX) request.">can-ajax</a> interface, which is based on the <a href="http://api.jquery.com/jquery.ajax/"><code>jQuery.ajax</code></a> interface.</p>
</blockquote>
<h3>Creating your own data-url behavior</h3>
<p>In really advanced situations, you can create your own custom <code>data-url</code> behavior for making AJAX requests. You will need to implement the required <a href="../can-connect/DataInterface.html" title="The most common raw data methods.">DataInterface</a> methods described above. Every method must return a Promise which resolves to the expected data:</p>
<pre><code class="language-js">connect.behavior(&quot;data/url&quot;, function( baseConnection ) {
  return {
    getListData(query) {
      return ajax({
        type: &quot;GET&quot;,
        url: this.url,
        data: query
      });
    },
    getData(query) { return ajax( /* ... */ ) },
    createData(data) { return ajax( /* ... */ ) },
    updateData(data) { return ajax( /* ... */ ) },
    destroyData(data) { return ajax( /* ... */ ) }
  };
});
</code></pre>
<h3>Loading list data</h3>
<p>Loading list data is unique because data can be filtered, sorted, and paginated using <a href="../can-query-logic.html" title="Perform data queries and compare queries against each other. Provides logic useful for
data caching and real-time behavior.">can-query-logic</a>. This is where the real power of <a href="../can-connect.html" title="can-connect provides persisted data middleware. Assemble powerful model layers from fully modularized behaviors (i.e. plugins).">can-connect</a> becomes available as it enables advanced behaviors such as the <a href="../can-connect/constructor/store/store.html" title="Adds support for keeping references to active lists and instances. Prevents different copies of an instance from
being used by the application at once. Allows other behaviors to look up instances currently active in the
application.">constructor store</a>, <a href="../can-connect/real-time/real-time.html" title="Update lists to include or exclude instances based
on set logic.">real-time updates</a>, caching, and other goodness. We recommend reading the following documents to become familiar with how to query logic works:</p>
<ul>
<li>The the comprehensive guide on <a href="../can-query-logic.html" title="Perform data queries and compare queries against each other. Provides logic useful for
data caching and real-time behavior.">can-query-logic</a></li>
<li>Learn about the <a href="../can-query-logic/query.html" title="The default structure of objects used to represent queries.">query structure</a></li>
<li>Check out the available <a href="../can-query-logic/comparison-operators.html" title="The comparison operators available to the default query.">comparison operators</a> used for filtering data</li>
</ul>
<p><a name="managing-response-data"></a></p>
<h2>Part 2 - Parsing, formatting, and managing response data</h2>
<p>Once raw data is loaded from a server, that data needs to be instantiated into typed data for use within your applicaiton. The <a href="../can-connect/constructor/constructor.html" title="Adds an interface to interact with custom types via the connection instead of plain Objects and Arrays.">constructor behavior</a> is responsible for instantiating data returned from your services, and this behavior expects data to be formatted a certain way. If your services do not return data in the expected format, we will describe how to configure things to meet your needs.</p>
<h3>Understanding how <code>can-connect</code> manages Model instances</h3>
<p>Many of the behaviors available with <a href="../can-connect.html" title="can-connect provides persisted data middleware. Assemble powerful model layers from fully modularized behaviors (i.e. plugins).">can-connect</a> are designed to work with instances of Model data for your application. A single <a href="../can-connect/constructor/store/store.html" title="Adds support for keeping references to active lists and instances. Prevents different copies of an instance from
being used by the application at once. Allows other behaviors to look up instances currently active in the
application.">constructor/store</a> is used to keep references to instance data and prevent multiple copies of an instance from being used by the application at once.</p>
<p>For example, if you have 3 different components which display information about the currently logged in <code>User</code>, you can rest easy knowing that all 3 components will receive the same exact instance of that user. If the user gets updated by one component, all other components will receive those updates thanks to the <a href="../can-connect/real-time/real-time.html" title="Update lists to include or exclude instances based
on set logic.">real-time behavior</a>.</p>
<h3>Customizing how response data his handled</h3>
<p>There are two types of response formats expected by the <a href="../can-connect/constructor/constructor.html" title="Adds an interface to interact with custom types via the connection instead of plain Objects and Arrays.">constructor behavior</a>:</p>
<ul>
<li><p><strong>Instance Data:</strong> - The result of most CRUD operations. The full response body is treated as the instance data.</p>
<pre><code class="language-js">{
  id: 111,
  name: 'Justin',
  email: ...
}
</code></pre></li>
<li><p><strong>List Data:</strong> The result of a a call to <code>getList</code>. An array of instance data must be on a <code>data</code> property in the response body.</p>
<pre><code class="language-js">{
  count: 3,
  data: [
    { id: 111, name: 'Justin', /* ... */},
    { id: 222, name: 'Brian', /* ... */},
    { id: 333, name: 'Paula', /* ... */}
  ]
}
</code></pre></li>
</ul>
<p>If your services return data in a format which is not expected, the following configurations can be used to customize how data is read and parsed from a response:</p>
<ul>
<li><code><a href="../can-connect/data/parse/parse.parseInstanceProp.html" title="The property to find the data that represents an instance item.">parseInstanceProp</a></code> - a custom property for looking up instance data</li>
<li><code><a href="../can-connect/data/parse/parse.parseListProp.html" title="The property to find the array-like data that represents each instance item.">parseListProp</a></code> - a custom property for looking up list data</li>
<li><code><a href="../can-connect/data/parse/parse.parseInstanceData.html" title="Returns the properties that should be used to make an instance given the results of connection.getData, connection.createData, connection.updateData,
and connection.destroyData.">parseInstanceData</a></code> - a function for formatting response data</li>
<li><code><a href="../can-connect/data/parse/parse.parseListData.html" title="Given a response from connection.getListData returns its data in the proper can-connect.listData format.">parseListData</a></code> - a function for formatting response data</li>
</ul>

</section>

  


<script type="text/javascript">
  window.docObject = {"src":{"path":"docs/can-guides/topics/data/configuring-requests.md"},"description":"URL, query, and response formats for making requests. \n","name":"guides/data-configuring-requests","title":"Configuring Requests","type":"page","parent":"guides/data","order":2,"outline":{"depth":3},"comment":" ","codepen":[["\"can\"","\"//unpkg.com/can@5/core.mjs\""],["\"can/everything\"","\"//unpkg.com/can@5/everything.mjs\""],["\"can/demos/technology-overview/mock-url\"","\"//unpkg.com/mock-url@^5.0.0/mock-url.mjs\""],["\"can/demos/technology-overview/route-mini-app-components\"","\"//unpkg.com/route-mini-app@^5.0.0/components.mjs\""],["return steal.import(","return import("],["\"can/demos/technology-overview/page-login\"","\"//unpkg.com/route-mini-app@^5.0.0/page-login.mjs\""],["`can/demos/technology-overview/page-${this.page}`","`//unpkg.com/route-mini-app@^5.0.0/page-${this.page}.mjs`"]],"pathToRoot":"../.."};
</script>
</article>
      
        <footer><p>CanJS is part of <a href="https://donejs.com" target="_blank">DoneJS</a>. Created and maintained by the core <a href="https://donejs.com/About.html#team" target="_blank">DoneJS team</a> and <a href="https://www.bitovi.com" target="_blank">Bitovi</a>. <strong>Currently 5.33.3.</strong></p>
</footer>
      

  </div>
  <div id="toc-sidebar" class="column">
    <nav>
      <h1 class="hide">On this page</h1>
    </nav>
    <div class="get-help">
      <h1>Get help</h1>
      <ul>
        <li><a href="https://www.bitovi.com/community/slack" target="_blank" class="icon-slack">Chat with us</a></li>
        <li><a href="https://github.com/canjs/canjs/issues/new" target="_blank" class="icon-github">File an issue</a></li>
        <li><a href="https://forums.bitovi.com/c/canjs" target="_blank" class="icon-forums">Ask questions</a></li>
        <li><a href="https://www.bitovi.com/blog/topic/canjs" target="_blank" class="icon-blog">Read latest news</a></li>
      </ul>
    </div>
  </div>
</div>

		
			<script>
				steal = {
				  	instantiated: {
				    	"bundles/bit-docs-site/static.css!$css" : null
				  	}
			  	};
			</script>
			<script type='text/javascript' data-main="bit-docs-site/static" src="../static/steal.production.js"></script>
		
		<script async defer src="https://buttons.github.io/buttons.js"></script>

		<!-- root-level elements with attributes necessary for the app -->
		<div path-prefix=".."></div>

	</body>
</html>
